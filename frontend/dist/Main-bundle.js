(()=>{"use strict";var e={3624:(e,t,n)=>{var r=n(7294),a=n(3935),l=n(3727),c=n(5977),o=n(9669),s=n.n(o),i=function(e){var t=e.className,n=void 0===t?"":t,a=e.width,l=void 0===a?24:a,c=e.height,o=void 0===c?24:c,s=e.style,i=void 0===s?{}:s;return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:o,fill:"currentColor",style:i,className:"bi bi-arrow-left-circle "+n,viewBox:"0 0 16 16"},r.createElement("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"}))},u=function(e){var t=e.className,n=void 0===t?"":t,a=e.width,l=void 0===a?24:a,c=e.height,o=void 0===c?24:c,s=e.style,i=void 0===s?{}:s;return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:o,fill:"currentColor",style:i,className:"bi bi-hand-thumbs-up "+n,viewBox:"0 0 16 16"},r.createElement("path",{d:"M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"}))},m=function(e){var t=e.className,n=void 0===t?"":t,a=e.width,l=void 0===a?24:a,c=e.height,o=void 0===c?24:c,s=e.style,i=void 0===s?{}:s;return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:o,fill:"currentColor",style:i,className:"bi bi-hand-thumbs-up-fill "+n,viewBox:"0 0 16 16"},r.createElement("path",{d:"M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.964.22.817.533 2.512.062 4.51a9.84 9.84 0 0 1 .443-.05c.713-.065 1.669-.072 2.516.21.518.173.994.68 1.2 1.273.184.532.16 1.162-.234 1.733.058.119.103.242.138.363.077.27.113.567.113.856 0 .289-.036.586-.113.856-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.162 3.162 0 0 1-.488.9c.054.153.076.313.076.465 0 .306-.089.626-.253.912C13.1 15.522 12.437 16 11.5 16H8c-.605 0-1.07-.081-1.466-.218a4.826 4.826 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.616.849-.231 1.574-.786 2.132-1.41.56-.626.914-1.279 1.039-1.638.199-.575.356-1.54.428-2.59z"}))},d=function(e){var t=e.className,n=void 0===t?"":t,a=e.width,l=void 0===a?24:a,c=e.height,o=void 0===c?24:c,s=e.style,i=void 0===s?{}:s;return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:o,fill:"currentColor",style:i,className:"bi bi-hand-thumbs-down "+n,viewBox:"0 0 16 16"},r.createElement("path",{d:"M8.864 15.674c-.956.24-1.843-.484-1.908-1.42-.072-1.05-.23-2.015-.428-2.59-.125-.36-.479-1.012-1.04-1.638-.557-.624-1.282-1.179-2.131-1.41C2.685 8.432 2 7.85 2 7V3c0-.845.682-1.464 1.448-1.546 1.07-.113 1.564-.415 2.068-.723l.048-.029c.272-.166.578-.349.97-.484C6.931.08 7.395 0 8 0h3.5c.937 0 1.599.478 1.934 1.064.164.287.254.607.254.913 0 .152-.023.312-.077.464.201.262.38.577.488.9.11.33.172.762.004 1.15.069.13.12.268.159.403.077.27.113.567.113.856 0 .289-.036.586-.113.856-.035.12-.08.244-.138.363.394.571.418 1.2.234 1.733-.206.592-.682 1.1-1.2 1.272-.847.283-1.803.276-2.516.211a9.877 9.877 0 0 1-.443-.05 9.364 9.364 0 0 1-.062 4.51c-.138.508-.55.848-1.012.964l-.261.065zM11.5 1H8c-.51 0-.863.068-1.14.163-.281.097-.506.229-.776.393l-.04.025c-.555.338-1.198.73-2.49.868-.333.035-.554.29-.554.55V7c0 .255.226.543.62.65 1.095.3 1.977.997 2.614 1.709.635.71 1.064 1.475 1.238 1.977.243.7.407 1.768.482 2.85.025.362.36.595.667.518l.262-.065c.16-.04.258-.144.288-.255a8.34 8.34 0 0 0-.145-4.726.5.5 0 0 1 .595-.643h.003l.014.004.058.013a8.912 8.912 0 0 0 1.036.157c.663.06 1.457.054 2.11-.163.175-.059.45-.301.57-.651.107-.308.087-.67-.266-1.021L12.793 7l.353-.354c.043-.042.105-.14.154-.315.048-.167.075-.37.075-.581 0-.211-.027-.414-.075-.581-.05-.174-.111-.273-.154-.315l-.353-.354.353-.354c.047-.047.109-.176.005-.488a2.224 2.224 0 0 0-.505-.804l-.353-.354.353-.354c.006-.005.041-.05.041-.17a.866.866 0 0 0-.121-.415C12.4 1.272 12.063 1 11.5 1z"}))},f=function(e){var t=e.className,n=void 0===t?"":t,a=e.width,l=void 0===a?24:a,c=e.height,o=void 0===c?24:c,s=e.style,i=void 0===s?{}:s;return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:o,fill:"currentColor",style:i,className:"bi bi-hand-thumbs-down-fill "+n,viewBox:"0 0 16 16"},r.createElement("path",{d:"M6.956 14.534c.065.936.952 1.659 1.908 1.42l.261-.065a1.378 1.378 0 0 0 1.012-.965c.22-.816.533-2.512.062-4.51.136.02.285.037.443.051.713.065 1.669.071 2.516-.211.518-.173.994-.68 1.2-1.272a1.896 1.896 0 0 0-.234-1.734c.058-.118.103-.242.138-.362.077-.27.113-.568.113-.856 0-.29-.036-.586-.113-.857a2.094 2.094 0 0 0-.16-.403c.169-.387.107-.82-.003-1.149a3.162 3.162 0 0 0-.488-.9c.054-.153.076-.313.076-.465a1.86 1.86 0 0 0-.253-.912C13.1.757 12.437.28 11.5.28H8c-.605 0-1.07.08-1.466.217a4.823 4.823 0 0 0-.97.485l-.048.029c-.504.308-.999.61-2.068.723C2.682 1.815 2 2.434 2 3.279v4c0 .851.685 1.433 1.357 1.616.849.232 1.574.787 2.132 1.41.56.626.914 1.28 1.039 1.638.199.575.356 1.54.428 2.591z"}))},y=function(e){var t=e.className,n=void 0===t?"":t,a=e.width,l=void 0===a?24:a,c=e.height,o=void 0===c?24:c,s=e.style,i=void 0===s?{}:s;return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:o,fill:"currentColor",style:i,className:"bi bi-clipboard-check "+n,viewBox:"0 0 16 16"},r.createElement("path",{fillRule:"evenodd",d:"M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"}),r.createElement("path",{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"}),r.createElement("path",{d:"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"}))};const v=function(e){var t=e.children,n=e.title,a=void 0===n?"":n,l=e.body,c=void 0===l?"Are you sure?":l,o=e.buttonText,s=void 0===o?"Ok":o,i=e.refFunc,u=e.refFuncArgs,m=(0,r.useRef)(null),d=(0,r.useRef)(null);function f(){null!==m.current&&(m.current.classList.remove("show"),m.current.style.display="none",d.current.style.display="none")}return(0,r.useEffect)((function(){window.onclick=function(e){e.target===m.current&&f()}}),[]),r.createElement(r.Fragment,null,r.createElement("div",{style:{display:"inline"},onClick:function(){null!==m.current&&(m.current.classList.add("show"),m.current.style.display="block",d.current.style.display="block")}},t),r.createElement("div",{ref:m,className:"modal fade",style:{display:"none"},id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-modal":"true",role:"dialog"},r.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},r.createElement("div",{className:"modal-content"},r.createElement("div",{className:"modal-header"},r.createElement("h5",{className:"modal-title text-dark",id:"exampleModalLabel"},a)),r.createElement("div",{className:"modal-body text-dark"},c),r.createElement("div",{className:"modal-footer"},r.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return f()}},"Close"),r.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){i(u),f()}},s))))),r.createElement("div",{ref:d,style:{display:"none"},className:"modal-backdrop fade show",id:"backdrop"}," "))};var p={title:{_:"title",key:"title",value:""},imdbId:{_:"imdbId",key:"imdbId",value:""},source:{_:"source",key:"source",value:""},year:{_:"year",key:"year",value:""},image:{_:"image",key:"image",value:""},quality:{_:"quality",key:"quality",value:""},seeds:{_:"seeds",key:"seeds",value:""},size:{_:"size",key:"size",value:""},type:{_:"type",key:"type",value:""}},h=function(){return document.querySelector("[name=csrfmiddlewaretoken]").value},b=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},E=function(e){var t=localStorage.getItem(e);return"schemas"===e&&null===t?p:null===t?"":JSON.parse(t)},g=function(e){return localStorage.removeItem(e)},N=function(e,t){return e.replace(/\${(.*?)}/g,(function(e,n){return t[n]}))};const w=function(e){var t,n=function(e){return e&&e.response&&e.response.data&&e.response.data.detail?e.response.data.detail:e&&e.response&&e.response.data?e.response.data:e.toString().startsWith("[object")?"An error occurred.":e.toString()}(e);if(console.log(n),t=n,"[object String]"===Object.prototype.toString.call(t)){if(n.length<200)return n;console.log(n)}else{var r=JSON.stringify(n);if("{}"!==r)return r}return"An error occured"},S=function(e){var t=e.value,n=e.setValue,a=e.placeholder,l=void 0===a?"":a,c=e.type,o=void 0===c?null:c,s=e.className,i=void 0===s?"":s,u=e.style,m=void 0===u?{}:u;return r.createElement("input",{onChange:function(e){return n(e.target.value)},value:t,type:null==o?"text":o,className:"form-control "+i,style:m,placeholder:l,"aria-label":l})};var k=n(3094),x=n.n(k);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const O=function(e){var t=e.schema,n=e.setResults,a=A((0,r.useState)(""),2),l=a[0],c=a[1],o=A((0,r.useState)(!1),2),i=o[0],u=o[1];return i?r.createElement("div",{className:"d-flex justify-content-between"},r.createElement(S,{value:l,setValue:c,placeholder:"Search query"}),r.createElement("button",{onClick:function(){s().get(N(t.apiUrl,{searchInput:l})).then((function(e){console.log(e.data);var r=x()(t,e.data);console.log(r),n(r)})).catch((function(e){console.log(w(e))}))},className:"btn btn-sm btn-success"},"Test")):r.createElement("button",{onClick:function(){return u(!0)},className:"btn btn-sm btn-success"},"Test")};function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const I=function(e){var t,n,a=e.data,l=(t=(0,r.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw l}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],o=l[1];return r.createElement("div",null,r.createElement("div",{style:{cursor:"pointer"},onClick:function(){return o(!c)},className:"row border-top py-1 align-items-center justify-content-center result-row"},r.createElement("div",{className:"col-1"},r.createElement("img",{src:a.image})),r.createElement("div",{className:"col"},r.createElement("span",null,a.title?a.title:a.imdbId," ",a.year?"(".concat(a.year,")"):"")),r.createElement("div",{className:"col align-center"},a.sources&&a.sources.constructor===Array&&a.sources.map((function(e,t){if(void 0!==e.quality)return r.createElement("span",{className:"border rounded m-1 p-1",key:t},e.quality)})))),function(){if(c&&void 0!==a.sources&&a.sources!==[]&&0!==a.sources.length&&a.sources.constructor===Array)return r.createElement("div",{className:"row align-items-center justify-content-center result-details-row"},r.createElement("table",{className:"table table-hover table-sm"},r.createElement("thead",null,r.createElement("tr",null,void 0!==a.sources[0].quality?r.createElement("th",{scope:"col",style:{paddingLeft:14}},"Quality"):null,void 0!==a.sources[0].type?r.createElement("th",{scope:"col"},"Type"):null,void 0!==a.sources[0].seeds?r.createElement("th",{scope:"col"},"Seeds"):null,void 0!==a.sources[0].size?r.createElement("th",{scope:"col"},"Size"):null,r.createElement("th",{scope:"col",style:{paddingRight:14},className:"col-1"},"Download"))),r.createElement("tbody",null,a.sources.map((function(e,t){return r.createElement("tr",{key:t},void 0!==e.quality?r.createElement("th",{scope:"row",style:{paddingLeft:14}},e.quality):null,void 0!==e.type?r.createElement("td",null,e.type):null,void 0!==e.seeds?r.createElement("td",null,e.seeds):null,void 0!==e.size?r.createElement("td",null,e.size):null,r.createElement("td",{style:{paddingRight:14},className:"text-end"},r.createElement("button",{onClick:function(){return null},className:"btn btn-secondary btn-sm p-1"},"Download&Add")))})))))}())};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F={color:"#3e2c6b"};const H=function(e){var t=e.schema,n=U((0,r.useState)(E("".concat(t.id,"thumbsUp"))),2),a=n[0],l=n[1],c=U((0,r.useState)(E("".concat(t.id,"thumbsDown"))),2),o=c[0],i=c[1],p=U((0,r.useState)(!1),2),g=p[0],N=p[1],w=U((0,r.useState)([]),2),S=w[0],k=w[1];(0,r.useEffect)((function(){b("".concat(t.id,"thumbsUp"),a),b("".concat(t.id,"thumbsDown"),o)}),[a,o]);var x=function(e){e>0?l(!a):i(!o),E("".concat(t.id,"_"))||s().post("/api/score/",{schema:t.id,score:e},{headers:{"X-CSRFToken":h()}}).then((function(e){console.log("success."),b("".concat(t.id,"_"),!0)})).catch((function(e){console.log(e)}))},A=function(e){var t=e.text;navigator.clipboard.writeText(JSON.stringify(t)).then((function(){console.log("copied."),N(!0),setTimeout((function(){return N(!1)}),2e3)})).catch((function(e){console.log("error.",e)}))};return r.createElement("div",{className:"py-2"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col"},r.createElement("span",{style:z({fontSize:20},F)},t.name)),r.createElement("div",{className:"col-3 text-end"},r.createElement("div",{className:"d-flex justify-content-evenly flex-nowrap"},o?r.createElement("a",null,r.createElement(u,{style:F})):r.createElement("a",{onClick:function(){return x(1)},style:{cursor:"pointer"}},a?r.createElement(m,{style:F}):r.createElement(u,{style:F})),a?r.createElement("a",null,r.createElement(d,{style:F})):r.createElement("a",{onClick:function(){return x(-1)},style:{cursor:"pointer"}},o?r.createElement(f,{style:F}):r.createElement(d,{style:F})),r.createElement("span",{style:z({fontSize:20},F)},t.score+a-o)))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col align-self-center"},r.createElement(O,{schema:JSON.parse(t.schema.replace(/\'/g,'"')),setResults:k})),r.createElement("div",{className:"col text-end"},function(){if(g)return r.createElement(y,{style:{color:"green",marginLeft:15}})}(),t.is_legal?r.createElement("button",{onClick:function(){return A({text:JSON.parse(t.schema.replace(/\'/g,'"'))})},className:"btn btn-sm btn-success my-1"},"Copy source"):r.createElement(v,{title:"CAUTION!",body:"This source may contain illegal results. Are you sure?",buttonText:"Copy",refFunc:A,refFuncArgs:{text:JSON.parse(t.schema.replace(/\'/g,'"'))}},r.createElement("button",{className:"btn btn-sm btn-success my-1"},"Copy source")))),function(){if(0!==S.length)return r.createElement("div",{className:"my-5"},S.map((function(e,t){if(!(t>2))return r.createElement(I,{key:t,data:e})})))}(),r.createElement("hr",null))};function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const q=function(){var e=M((0,r.useState)([]),2),t=e[0],n=e[1],a=M((0,r.useState)(!1),2),l=a[0],c=a[1],o=M((0,r.useState)(null),2),i=o[0],u=o[1],m=M((0,r.useState)(null),2),d=m[0],f=m[1];(0,r.useEffect)((function(){y("/api/schemas")}),[]);var y=function(e){s().get(e).then((function(e){c(!0),console.log(e.data),e.data&&n(e.data.results),e.data&&u(e.data.next),e.data&&f(e.data.previous)})).catch((function(e){c(!0)}))};return r.createElement("div",{className:"container-fluid"},r.createElement("div",{className:"container"},r.createElement("div",null,r.createElement("h1",null,"Sources"),l?null:r.createElement("h2",null,"Loading..."),r.createElement("hr",null),t.map((function(e){return r.createElement(H,{key:e.id,schema:e})}))),r.createElement("div",{className:"d-flex my-3 justify-content-between"},null!==d?r.createElement("button",{onClick:function(){return y(d)},className:"btn btn-sm btn-success"},"Previous"):r.createElement("p",null),null!==i?r.createElement("button",{onClick:function(){return y(i)},className:"btn btn-sm btn-success"},"Next"):r.createElement("p",null))))},L=function(){var e=document.getElementById("root"),t=e&&null!==e.getAttribute("value")&&""!==e.getAttribute("value");return r.createElement("div",{className:"container-fluid main-nav"},r.createElement("div",{className:"container"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col d-flex align-items-center"},r.createElement("div",null,r.createElement(l.rU,{to:"/"},r.createElement("img",{src:"static/images/v.png",width:48}))),r.createElement("div",{className:"mx-3"},r.createElement("span",{style:{fontSize:32}},"Vigilio Sources"))),r.createElement("div",{className:"col d-flex justify-content-end"},r.createElement("div",{className:"d-flex align-items-center"},t?r.createElement(r.Fragment,null,r.createElement(l.rU,{to:"/"},"Home")," - ",r.createElement(l.rU,{to:"/add"},"Add Source")," - ",r.createElement(l.rU,{to:"/help"},"Help")," - ",r.createElement("a",{href:"/accounts/logout/"},"Logout")):r.createElement(r.Fragment,null,r.createElement(l.rU,{to:"/"},"Home")," - ",r.createElement("a",{href:"/accounts/login/"},"Login")," - ",r.createElement("a",{href:"/accounts/register/"},"Register")))))))},D=function(e){var t=e.obj,n=e.updateFunc;return r.createElement("div",{className:"input-group my-2"},r.createElement("div",{className:"col-3"},r.createElement("input",{defaultValue:t.key,type:"text",disabled:!0,className:"form-control",placeholder:t.key,"aria-label":t.key})),r.createElement("div",{className:"col-9 d-flex align-items-center",style:{paddingLeft:5}},r.createElement("input",{onChange:function(e){t.value=e.target.value,n(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t._,t))},value:t.value,type:"text",className:"form-control",placeholder:"Value location","aria-label":"Value location"})))},R=function(e){var t=e.value,n=e.setValue,a=e.text,l=void 0===a?"":a,c=e.className,o=void 0===c?"":c;return r.createElement("div",{className:"form-check "+o},r.createElement("input",{className:"form-check-input",type:"checkbox",id:"flexCheckDefault",value:t,onClick:function(){return n(!t)}}),r.createElement("label",{className:"form-check-label",htmlFor:"flexCheckDefault"},l))};function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const B=function(e){var t=e.schema,n=$((0,r.useState)(E("saveFormName")),2),a=n[0],l=n[1],o=$((0,r.useState)(!1),2),i=o[0],u=o[1],m=$((0,r.useState)(!1),2),d=m[0],f=m[1],y=$((0,r.useState)(""),2),v=y[0],p=y[1],N=$((0,r.useState)(""),2),k=N[0],x=N[1],A=(0,c.k6)();return(0,r.useEffect)((function(){0===a.length&&d&&f(!1),a.length>50&&(f(!1),p("Name cannot be more than 50 characters.")),a.length>0&&a.length<50&&!d&&f(!0),b("saveFormName",a)}),[a]),r.createElement("div",null,r.createElement("h1",null,"Save this source"),function(){if(""!==v)return r.createElement("div",{className:"border"},r.createElement("span",{className:"mx-3 my-2",style:{fontSize:18,color:"#933636"}},v))}(),function(){if(""!==k)return r.createElement("div",{className:"border"},r.createElement("span",{className:"mx-3 my-2",style:{fontSize:18,color:"#3e2c6b"}},k))}(),r.createElement(S,{value:a,setValue:l,placeholder:"Name for this schema",className:"my-2"}),r.createElement(R,{value:i,setValue:u,text:"Does this schema contain any illegal content?",className:"my-2"}),d?r.createElement("button",{onClick:function(){return p(""),void s().post("/api/schemas/",{version:t.version,name:a,api_url:t.apiUrl,schema:JSON.stringify(t),is_legal:!i,is_active:!0},{headers:{"X-CSRFToken":h()}}).then((function(e){x("Success. Redirecting to home."),setTimeout((function(){return A.push("/")}),1500),g("saveFormName"),g("searchInput"),g("apiUrl")})).catch((function(e){p(w(e))}))},className:"btn btn-success"},"Publish"):null)};function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Y=function(){var e=W((0,r.useState)(E("searchInput")),2),t=e[0],n=e[1],a=W((0,r.useState)(E("apiUrl")),2),c=a[0],o=a[1],u=W((0,r.useState)(E("schemas")),2),m=u[0],d=u[1],f=W((0,r.useState)(!1),2),y=f[0],v=f[1],p=W((0,r.useState)([]),2),h=p[0],g=p[1],k=W((0,r.useState)("addSchema"),2),A=k[0],j=k[1];(0,r.useEffect)((function(){b("searchInput",t),b("apiUrl",c),b("schemas",m)}),[t,c,m]);var O=function(e){return d(Object.assign({},m,e))},C=function(){var e=[];return Object.keys(m).map((function(t){""!==m[t].value&&e.push({key:m[t].key,value:m[t].value})})),{version:1,apiUrl:c,parsers:e}};return r.createElement("div",{className:"container-fluid"},r.createElement("div",{className:"container"},r.createElement("div",null,"addSchema"===A?r.createElement(r.Fragment,null,r.createElement(l.rU,{to:"/example"},"Check out the example"),r.createElement("h1",null,"Add a source"),r.createElement(S,{value:t,setValue:n,placeholder:"Search String",className:"my-2"}),c.includes("${searchInput}")?null:r.createElement("b",null,"You have to include ","${searchInput}"," in the API url."),r.createElement(S,{value:c,setValue:o,placeholder:"API url",className:"my-2"}),Object.keys(m).map((function(e,t){return r.createElement(D,{key:e,obj:m[e],updateFunc:O})})),r.createElement("button",{onClick:function(){return v(!0),g([]),void s().get(N(c,{searchInput:t})).then((function(e){v(!1);var t={version:1,apiUrl:c,parsers:[]};Object.keys(m).map((function(e){t.parsers.push(m[e])}));var n=x()(t,e.data);g(n),window.location="#results"})).catch((function(e){v(!1),console.log(w(e))}))},className:"btn btn-success"},"Test"),0!==h.length?r.createElement("button",{disabled:!function(){if(0!==h.length)return void 0!==h[0].imdbId&&void 0!==h[0].sources&&0!==h[0].sources.length&&void 0!==h[0].sources[0].source&&c.includes("${searchInput}")}(),style:{marginLeft:18},onClick:function(){return j("saveForm")},className:"btn btn-success"},"Save"):null,""!==m.imdbId.value&&""!==m.source.value?null:r.createElement("b",{className:"mx-3"},"imdbId and source has to be filled"),y?r.createElement("div",{className:"my-2"},r.createElement("h3",null,"Loading...")):null,function(){if(!(h.length<=0))return r.createElement("div",{className:"my-5",id:"results"},r.createElement("h4",{className:"my-4"},"Example output"),h.map((function(e,t){if(!(t>2))return r.createElement(I,{key:t,data:e})})))}()):"saveForm"===A?r.createElement(r.Fragment,null,r.createElement("a",{onClick:function(){return j("addSchema")},style:{cursor:"pointer"}},r.createElement(i,null)," Go back"),r.createElement(B,{schema:C()}),r.createElement("div",{className:"my-3"},r.createElement("textarea",{className:"form-control",style:{width:"100%",height:250},disabled:!0,defaultValue:JSON.stringify(C(),null,2)}))):void 0)))},G=function(){return r.createElement("div",{className:"container-fluid"},r.createElement("div",{className:"container"},r.createElement("div",null,r.createElement("h1",null,"Help"),r.createElement("p",null,"Vigilio is using"," ",r.createElement("a",{href:"https://www.npmjs.com/package/mud-parser",target:"_blank"},"mud-parser")," to get search results and show the acquired results. This website is a front-end to add sources easier. A source has to have at least an imdbId and a source. The source can be either a magnet or .torrent file url."),r.createElement("h2",null,"Fields"),r.createElement("p",null,"A valid imdb ID and a source is mandatory. Although the rest of the fields are optional, it is better to include them as they will give more information about the results."),r.createElement("p",{className:"my-1"},r.createElement("b",null,"imdbId")),r.createElement("p",{className:"my-1"},r.createElement("b",null,"source")),r.createElement("p",{className:"my-1"},"title"),r.createElement("p",{className:"my-1"},"image"),r.createElement("p",{className:"my-1"},"quality"),r.createElement("p",{className:"my-1"},"seeds"),r.createElement("p",{className:"my-1"},"size"),r.createElement("p",null,"type"),r.createElement("p",null,"An example schema and the results can be found"," ",r.createElement(l.rU,{to:"/example"},"here.")),r.createElement("h2",null,"mud-parser syntax"),r.createElement("p",null,"Even though mud-parser is more flexible, this site statically prepares the keys. You only need to adjust the values."),r.createElement("p",null,"Property values are spearated by dots."," ",r.createElement("code",null,"movieDetails.movieTitle")),r.createElement("p",null,"Arrays are designated by zeros. Array values can be in the beginning, middle or the end of a value."," ",r.createElement("code",null,"movideDetails.cast.0.fullName")," or ",r.createElement("code",null,"0.title")),r.createElement("p",null,"Renaming an intermediary properties can be done with pipe symbols.  ",r.createElement("code",null,"movieDetails.cast|castMembers.0.fullName")," would be renaming cast to castName. This is useful because Vigilio is expecting sources array for the list of sources."),r.createElement("div",{className:"mb-5"}))))};function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const X=function(e){var t=e.obj,n=e.updateFunc;return r.createElement("div",{className:"input-group mb-2"},r.createElement("div",{className:"col-3"},r.createElement("input",{onChange:function(e){t.key=e.target.value,n(Q({},t._,t))},value:t.key,type:"text",className:"form-control",placeholder:"Key","aria-label":"Key",disabled:!0})),r.createElement("div",{className:"col-9 d-flex",style:{paddingLeft:5}},r.createElement("input",{onChange:function(e){t.value=e.target.value,n(Q({},t._,t))},value:t.value,type:"text",className:"form-control",placeholder:t.placeHolder,"aria-label":t.placeHolder})))};function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,l=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw l}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const te=function(){var e=Z((0,r.useState)(""),2),t=e[0],n=e[1],a=Z((0,r.useState)("https://yts.mx/api/v2/list_movies.json?query_term=${searchInput}"),2),c=a[0],o=a[1],i=Z((0,r.useState)([]),2),u=i[0],m=i[1],d=Z((0,r.useState)({title:{_:"title",key:"title",value:"data.movies.0.title",placeHolder:"Title"},imdbId:{_:"imdbId",key:"imdbId",value:"data.movies.0.imdb_code",placeHolder:"IMDB ID"},image:{_:"image",key:"image",value:"data.movies.0.small_cover_image",placeHolder:"An image source"},year:{_:"year",key:"year",value:"data.movies.0.year",placeHolder:"Year"},source:{_:"source",key:"source",value:"data.movies.0.torrents|sources.0.url",placeHolder:"Torrent source (url or magnet)"},quality:{_:"quality",key:"quality",value:"data.movies.0.torrents|sources.0.quality",placeHolder:"Quality or resolution"},seeds:{_:"seeds",key:"seeds",value:"data.movies.0.torrents|sources.0.seeds",placeHolder:"Torrent source (url or magnet)"},size:{_:"size",key:"size",value:"data.movies.0.torrents|sources.0.size",placeHolder:"Size (string)"},type:{_:"type",key:"type",value:"data.movies.0.torrents|sources.0.type",placeHolder:"Type of torrent (bluray, web, webrip, etc.)"}}),2),f=d[0],y=d[1],v=Z((0,r.useState)(!1),2),p=v[0],h=v[1],b=function(e){y(Object.assign({},f,e))};return r.createElement("div",{className:"container-fluid"},r.createElement("div",{className:"container"},r.createElement("div",null,r.createElement(l.rU,{to:"/add"},"Go back to adding a source"),r.createElement("h1",null,"Example"),r.createElement(S,{value:t,setValue:n,placeholder:"Search String",className:"my-2"}),r.createElement(S,{value:c,setValue:o,placeholder:"API Url",className:"my-2"}),Object.keys(f).map((function(e,t){return r.createElement(X,{key:e,obj:f[e],updateFunc:b})})),r.createElement("button",{onClick:function(){return h(!0),m([]),void s().get(N(c,{searchInput:t})).then((function(e){h(!1);var t={version:1,parsers:[]};Object.keys(f).map((function(e){t.parsers.push(f[e])}));var n=x()(t,e.data);m(n)})).catch((function(e){h(!1),console.log(e)}))},className:"btn btn-success"},"Test"),p?" Requesting...":"",r.createElement("div",{className:"my-5"},u.map((function(e,t){if(!(t>2))return r.createElement(I,{key:t,data:e})}))),r.createElement("div",{className:"my-5"},r.createElement("textarea",{className:"form-control",style:{width:"100%",height:250},defaultValue:JSON.stringify({version:1,apiUrl:c,parsers:Object.keys(f).map((function(e){return{key:f[e].key,value:f[e].value}}))},null,2)})))))};var ne=function(){return r.createElement("div",null,r.createElement(l.VK,null,r.createElement(L,null),r.createElement("div",{className:"main-content"},r.createElement(c.rs,null,r.createElement(c.AW,{path:"/add"},r.createElement(Y,null)),r.createElement(c.AW,{path:"/example"},r.createElement(te,null)),r.createElement(c.AW,{path:"/help"},r.createElement(G,null)),r.createElement(c.AW,{path:"/"},r.createElement(q,null))))))};(0,a.render)(r.createElement(ne,null),document.getElementById("root"))}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.x=e=>{},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={12:0},t=[[3624,622]],r=e=>{},a=(a,l)=>{for(var c,o,[s,i,u,m]=l,d=0,f=[];d<s.length;d++)o=s[d],n.o(e,o)&&e[o]&&f.push(e[o][0]),e[o]=0;for(c in i)n.o(i,c)&&(n.m[c]=i[c]);for(u&&u(n),a&&a(l);f.length;)f.shift()();return m&&t.push.apply(t,m),r()},l=self.webpackChunkfrontend=self.webpackChunkfrontend||[];function c(){for(var r,a=0;a<t.length;a++){for(var l=t[a],c=!0,o=1;o<l.length;o++){var s=l[o];0!==e[s]&&(c=!1)}c&&(t.splice(a--,1),r=n(n.s=l[0]))}return 0===t.length&&(n.x(),n.x=e=>{}),r}l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l));var o=n.x;n.x=()=>(n.x=o||(e=>{}),(r=c)())})(),n.x()})();